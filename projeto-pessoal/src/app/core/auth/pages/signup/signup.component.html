<div class="login-form-container">
    <form [formGroup]="form" (submit)="submit()">
        <div class="form-field-container">
            <mat-form-field class="form-field" appearance="outline">
                <mat-label>Seu nome completo</mat-label>
                <input matInput formControlName="name" type="text"/>
                
                <mat-icon matSuffix>person_text</mat-icon>
                
                @if (form.controls.name.hasError('required')) {
                    <mat-error>Campo obrigatório</mat-error>
                }

                @if (form.controls.name.hasError('minlength')) {
                    <mat-error>Mínimo de 3 caracteres</mat-error>
                }

                @if (form.controls.name.hasError('maxlength')) {
                    <mat-error>Máximo de 50 caracteres</mat-error>
                }
            </mat-form-field>

            <mat-form-field class="form-field" appearance="outline">
                <mat-label>Crie seu usuário</mat-label>
                <input matInput formControlName="usuario" type="text"/>
                
                <mat-icon matSuffix>account_circle</mat-icon>
                
                @if (form.controls.usuario.hasError('required')) {
                    <mat-error>Campo obrigatório</mat-error>
                }

                @if (form.controls.usuario.hasError('minlength')) {
                    <mat-error>Mínimo de 3 caracteres</mat-error>
                }

                @if (form.controls.usuario.hasError('maxlength')) {
                    <mat-error>Máximo de 10 caracteres</mat-error>
                }
            </mat-form-field>
            
            <mat-form-field class="form-field" appearance="outline">
                <mat-label>Seu email</mat-label>
                <input matInput formControlName="email" type="text"/>
                
                <mat-icon matSuffix>email</mat-icon>
                
                @if (form.controls.email.hasError('required')) {
                    <mat-error>Campo obrigatório</mat-error>
                }

                @if (form.controls.email.hasError('email') && form.controls.email.touched) {
                    <mat-error>E-mail inválido</mat-error>
                }

                @if (form.controls.email.hasError('maxlength')) {
                    <mat-error>Máximo de 50 caracteres</mat-error>
                }
            </mat-form-field>
            
            <mat-form-field class="form-field" appearance="outline">
                <mat-label>Digite a senha desejada</mat-label>
                <input matInput formControlName="password" [type]="hide() ? 'password' : 'text'"/>
                
                <button matIconButton matSuffix (click)="clickEvent($event)">
                    <mat-icon>{{hide() ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                
                @if (form.controls.password.hasError('required')) {
                    <mat-error>Campo obrigatório</mat-error>
                }

                @if (form.controls.password.hasError('minlength')) {
                    <mat-error>Mínimo de 6 caracteres</mat-error>
                }
                
                @if (form.controls.password.hasError('maxlength')) {
                    <mat-error>Máximo de 8 caracteres</mat-error>
                }
            </mat-form-field>
            
            <mat-form-field class="form-field" appearance="outline">
                <mat-label>Digite a senha novamente</mat-label>
                <input matInput formControlName="confirmPassword" [type]="hide() ? 'password' : 'text'"/>
                
                <button matIconButton matSuffix (click)="clickEvent($event)">
                    <mat-icon>{{hide() ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                
                @if (form.controls.confirmPassword.hasError('required')) {
                    <mat-error>Campo obrigatório</mat-error>
                }

                @if (form.controls.confirmPassword.hasError('minlength')) {
                    <mat-error>Mínimo de 6 caracteres</mat-error>
                }
                
                @if (form.controls.confirmPassword.hasError('maxlength')) {
                    <mat-error>Máximo de 8 caracteres</mat-error>
                }
            </mat-form-field>

            @if (form.hasError('passwordMismatch') && (form.controls.confirmPassword.dirty && form.controls.password.dirty)) {
                <mat-error>As senhas não coincidem!</mat-error>
            }
        </div>

         <estudo-auth-form-buttons  
            [submitLabel]="'Cadastrar'"
            (submitBtn)="submit()"
            [redirectLabel]="'Ir para login'"
            (redirectBtn)="redirectLogin()"
            [form]="form.invalid">
        </estudo-auth-form-buttons>
    </form>
</div>